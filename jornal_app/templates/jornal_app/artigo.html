{% extends "jornal_app/base.html" %}
{% load static %}

{% block title %}{{ artigo.titulo }} - Jornal do Commercio{% endblock %}

{% block main_content %}
<article class="article-detail">
    <header class="article-header">
        <h1 class="article-title">{{ artigo.titulo }}</h1>
        <div class="article-meta">
            <span class="publish-date">Publicado em {{ artigo.data_publicacao|date:"d/m/Y" }}</span>
            {% if artigo.categoria %}
            <span class="article-category">{{ artigo.categoria.nome }}</span>
            {% endif %}
        </div>
    </header>

    <div class="article-content">
        {{ artigo.conteudo|linebreaks }}
    </div>

    <footer class="article-footer">
        <div class="article-actions">
            <button onclick="shareNews('{{ artigo.titulo }}', '{{ request.build_absolute_uri }}')" 
                    class="share-btn">
                Compartilhar
            </button>
        </div>
    </footer>
</article>

<section class="related-articles">
    <h2>Not√≠cias Relacionadas</h2>
    <div class="related-grid">
        {% for related in relacionados %}
        <article class="related-card">
            <h3><a href="{% url 'jornal_app:artigo' pk=related.pk %}">{{ related.titulo }}</a></h3>
            <p>{{ related.conteudo|truncatewords:15 }}</p>
        </article>
        {% endfor %}
    </div>
</section>
{% endblock %}